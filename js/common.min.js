"use strict";var smsFlag=!1,smsShowFun=null,hasScroll=!1,isWeixin=function(){return"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)};function gray(){$require(["cmsAjax"],function(t){var e=window.location.origin+"/ndesigner/api/gray";t.cmsAjax.postJson(e).then(function(t){200==t.code&&($("html")[0].style="filter:progid:DXImageTransform.Microsoft.Basiclmage(grayscale=1);-webkit-filter:grayscale(100%);")})})}function festival(){isFrontEnv()&&$require(["cmsAjax"],function(t){t.cmsAjax.get("/fwebapi/cms/lowcode/festivalPendant/getSettings").then(function(t){var e;t.data&&200==t.data.code&&t.data.settings&&(1==(e=t.data.settings).location&&window.pageObj&&1!=window.pageObj.isHomePage||(t=e.showTime&&2==e.showTime.length&&e.nowTime>=e.showTime[0]&&e.nowTime<=e.showTime[1]||!e.showTime||0==e.showTime.length,e.isOpen&&t&&$require(["/npublic/commonjs/restival.js"],function(t){t.init(e)})))})})}function smartServiceInit(){isFrontEnv()&&$(window).on("mousemove scroll touchmove tap click keydown",function(){var n;hasScroll||(hasScroll=!0,n=function(n){$require(["css!/npublic/commonjs/smartService/t.css"],function(t){var e,a={};try{a=JSON.parse(n.setting.colorLayout)}catch(t){}1==a.entranceLocation&&(e='<a href="javascript:;" smartService class="smartIcon '.concat("left"==a.windowLocation?"leftIcon":"",'" style="color:').concat(a.windowColor,';">\n                            <svg t="1691993598192" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="814" width="200" height="200"><path d="M508.30872719 128.08273435c200.36824869 0 362.83837999 164.57253407 362.83837996 367.57335931 0 203.01910646-162.45184851 367.59164208-362.83837996 367.59164209v-55.13783256c170.33129377 0 308.41353791-139.89213981 308.41353633-312.43552832 0-172.57995248-138.08224413-312.45380951-308.41353633-312.45380952s-308.41353791 139.89213981-308.41353791 312.43552831c0 5.48453223 0.12797313 10.93250049 0.40219903 16.34390634H145.81770106c-0.23766351-5.41140585-0.36563506-10.8593741-0.36563663-16.34390634C145.45206443 292.65526841 307.94047692 128.08273435 508.32700838 128.08273435z" p-id="815"></path><path d="M508.30872719 240.40595711c139.16086813 0 251.95941786 114.27937278 251.95941629 255.25013655 0 140.98904501-112.79854975 255.26841777-251.95941629 255.26841777-36.65495788 0-71.46345612-7.91600767-102.87154529-22.1757924l-65.81438835 34.62568148c-9.89044049 5.19202354-22.06610207 1.27972351-27.18499926-8.72040577a20.65840542 20.65840542 0 0 1-2.01099519-12.76067896l12.10253519-73.76696156a256.18250777 256.18250777 0 0 1-66.18002497-172.47026056c0-140.97076381 112.79854975-255.25013657 251.95941787-255.25013655zM381.28695667 446.66093709c-24.4975775 0-44.33330364 20.10995203-44.33330366 44.91832098 0 24.80836739 19.85400733 44.91831942 44.33330366 44.91831943 24.4975775 0 44.35158484-20.10995203 44.35158486-44.91831943 0-24.80836739-19.85400733-44.91831942-44.35158486-44.91832098z m127.00348775 0c-24.4975775 0-44.35158484 20.10995203-44.35158488 44.91832098 0 24.80836739 19.85400733 44.91831942 44.35158488 44.91831943s44.33330364-20.10995203 44.33330363-44.91831943c0-24.80836739-19.85400733-44.91831942-44.33330363-44.91832098z m126.98520652 0c-24.4975775 0-44.35158484 20.10995203-44.35158484 44.91832098 0 24.80836739 19.85400733 44.91831942 44.35158484 44.91831943s44.35158484-20.10995203 44.35158484-44.91831943c0-24.80836739-19.85400733-44.91831942-44.35158484-44.91832098zM183.47815657 388.70771279l43.82141265 251.79488075a34.91819015 34.91819015 0 0 1-27.33125199 40.36615843l-0.65814374 0.10969033c-62.21287819 11.11531881-121.53723669-30.96932612-132.50630275-93.9866024L56.71233074 529.00205007c-10.96906446-63.03555904 30.5671271-123.12775168 92.79828807-134.24307046l33.96753776-6.06954959zM840.52513489 388.70771279L790.707299 674.89061152l33.98581895 6.06954959c62.21287819 11.11531881 121.53723669-30.96932612 132.50630273-93.98660398l10.09153845-57.97150706c10.96906446-63.03555904-30.5671271-123.12775168-92.7982881-134.24307046l-33.96753614-6.06954959zM464.96263993 808.10990319h86.6738933c23.94912413 0 43.32780605 19.65290783 43.32780446 43.89454063 0 24.25991557-19.37868034 43.91282183-43.32780446 43.91282183h-86.6556121c-23.94912413 0-43.36437003-19.65290783-43.36437003-43.91282183 0-24.2416328 19.41524431-43.89454063 43.34608883-43.89454063z" p-id="816"></path></svg>\n                        </a>'),$("body").append(e),$(".smartIcon").hover(function(){$(this).css({"background-color":a.windowColor,color:"#fff"})},function(){$(this).css({"background-color":"#fff",color:a.windowColor})})),function(t,e){var a={};try{a=JSON.parse(e.setting.colorLayout)}catch(t){}$(document).on("click","[smartService]",n),1==a.showFlag&&e&&n();function n(){smsShowFun?smsFlag?smsShowFun.showFun():smsShowFun():t&&e&&(e.account&&localStorage.setItem("account_".concat(tenant.tenantId),e.account),$require(["/npublic/commonjs/smartService.js"],function(t){smsFlag=!0,smsShowFun=new t(e)}))}}(!0,n)})},$require(["cmsAjax"],function(t){var e=__ce.smartServiceUrl||"https://web-visitor.yun300.cn",a="".concat(e,"/visitormanager/intelligent/front/checkAndRegister?tenantId=").concat(tenant.tenantId,"&instance=").concat(tenant.bossProductInstance),e={account:localStorage.getItem("account_".concat(tenant.tenantId))};t.cmsAjax.postJson(a,e).then(function(t){200==t.status&&t.data&&n(t.data)})}))})}function preventFish(){var t=location.hostname,e=getCookie("realhost")||"";e&&e!=t&&(e="/repository/cheat?req="+t+"&rel="+e,$.ajax({url:e}))}function wxShare(){$require(["cmsAjax","/npublic/commonjs/jweixin/jweixin.js","pl_util"],function(t){var e={pageUrl:location.href,appCode:pageObj.appId,tid:pageObj.contentType,pageType:pageObj.pageType,isHomePage:pageObj.isHomePage,pageId:pageObj.pageId,contentId:pageObj._detailId,pageName:pageObj.name};t.cmsAjax.postJson("/fwebapi/cms/api/tdk/getWxShareInfo",e).then(function(t){var e,a,n,o;t.data.wxJsConfig&&(e=t.data.wxJsConfig,o=t.data.wxShareContent,a={title:o.title,desc:o.desc,link:location.href,imgUrl:(n=$.handleDataImg(o.imgUrl),t=104,o=-1<n.indexOf("?")?n.split("?")[1]:"",n=n.split("?")[0],o=o?"?"+o:"",n+"_"+t+"xaf"+n.substr(n.lastIndexOf("."))+o)},wx.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["updateAppMessageShareData","updateTimelineShareData"]}),wx.ready(function(){wx.updateAppMessageShareData(a),wx.updateTimelineShareData(a)}))})})}$(function(){window.pageObj&&1==window.pageObj.isHomePage&&gray(),"portal-saas-mall"!=tenant.unittype&&(festival(),smartServiceInit()),268516!=tenant.tenantId&&"portal-saas-mall"!=tenant.unittype&&preventFish(),isWeixin()&&"portal-saas-mall"!=tenant.unittype&&wxShare()});